<!DOCTYPE html> 
<html lang="en">
<head>
    <link rel="shortcut icon" href="#">
    <title>Dice Game - Sakuni</title>
</head>
<body>
    Person 1: <input type="text" value="Kruto">
    <button class="dice" id="1">Roll the dice</button>
    Result: <span></span><br></br>
    
    Person 2: <input type="text" value="Chandu">
    <button class="dice" id="2">Roll the dice</button>
    Result: <span></span><br></br>
    
    Person 3: <input type="text" value="Yogita">
    <button class="dice" id="3">Roll the dice</button>
    Result: <span></span><br></br>
    
    Person 4: <input type="text" value="Vijay">
    <button class="dice" id="4">Roll the dice</button>
    Result: <span></span><br></br>

    Person 5: <input type="text" value="Abhishek">
    <button class="dice" id="5">Roll the dice</button>
    Result: <span></span><br></br>

    <button id="endgame">End Game</button>
    <div id="winMessage"></div>

    <script>

        let person, button, results, endButton, winMessage
        person = document.querySelectorAll("input")
        button = document.querySelectorAll(".dice")
        results = document.querySelectorAll("span")
        endButton = document.querySelector("#endgame")
        winMessage = document.querySelector("#winMessage")

        endButton.disabled=true           //assignment-disable the button until all buttons are clicked

        // identify clicks
        let i
        for(i=0; i<button.length; i++){
            button[i].addEventListener("click",rollDice)
        }
        // for(t of button){
        //    t.addEventListener("click", rollDice)
        //}
        let click=0
        function rollDice(e){
            click = click +1              //assignment-enable endButton after all dice buttons are clicked
            if(click == 5){
                endButton.disabled=false
            }
            user_id= e.target.id
            button[user_id-1].disabled=true    //assignment-disable the button after clicking once
            dice_options=[1,2,3,4,5,6]
            random = parseInt(Math.random()* dice_options.length)
            dice_results = dice_options[random]
            results[user_id-1].innerText = dice_results

        }
        endButton.addEventListener("click", findWinner)
        function findWinner(){
            endButton.disabled=true      //assignment-disable the button once result is displayed
            max = 0
            pos = []            //assignment-display all the names who are winners
            for(i=0; i<=4; i++){
                if(results[i].innerText > max){
                    max = results[i].innerText
                }
            }
            for(i=0; i<=4; i++){
                if(results[i].innerText == max){
                    pos.push(i)
                }
            }
            let names = ""
            for(t of pos){
                names = names + person[t].value + ", "
            }
            winMessage.innerText="The winner is "+ names +" as he scored "+ max
            }

    </script>
</body>
</html>